# 힙(heap)

> 본 포스팅은 한국외대 컴퓨터공학부 신찬수 교수님의 "[자료구조 - Data Structures with Python](https://www.youtube.com/playlist?list=PLsMufJgu5933ZkBCHS7bQTx0bncjwi4PK)" 중 21강 "[힙(heap)](https://youtube.com/watch?v=8XnPN6IB22YU)" 강의를 정리한 노트입니다.

힙 성질(heap property) 만족하는 이진트리

```txt
    a      - 0 level
  /   \
 b     c   - 1
  \   / \
   d e  f  - 2
```

```py
H = [a, b, c, None, d, e, f]
#    ^  ^--^   ^----------^
#    0    1       2
```

- H[0]의 왼쪽 자식노드 H[1]
- H[0]의 오른쪽 자식노드 H[2]
- H[2]의 왼쪽 자식노드 H[2 * 2 + 1] = H[5] = e
- H[2]의 오른쪽 자식노드 H[2 * 2 + 2] = H[6] = f

> H[k]의 왼쪽 자식노드: H[2 * k + 1]
>
> H[k]의 오른쪽 자식노드: H[2 * k + 2]
>
> H[k]의 부모노드: H[(k - 1) // 2]

모두 상수시간에 계산 가능. 단점은 비어있는 곳을 None으로 표시하기 위해 자리를 차지하는 불필요한 공간이 생긴다. 트레이드오프. 레벨을 꽉꽉 채워주면 이 낭비를 없앨 수 있다. 꽉꽉 채워둔 이진트리를 힙이라고 부른다.

## 예시

```py
A = [2,8,6,1,10,15,3,12,11]
```

위 리스트를 이진트리로 변환하면

```txt
       2
     /   \
    8     6
   / \   / \
  1  10 15  3
 / \
12 11
```

힙을 만족하려면,

- 모양: 레벨마다 꽉 채워진 상태
- 힙 성질: 모든 부모노드의 키값은 자식노드의 키값보다 작지 않다.

위의 이진트리는 힙 성질을 만족하지 못 한다.

아래 노드는 힙 성질을 만족한다. 아래 A는 힙이다.

```py
A = [15,12,6,11,10,2,3,1,5]
```

```txt
       15
     /   \
    12    6
   / \   / \
  11 10 2   3
 / \
1   5
```

힙의 특징: 힙의 루트노드에는 가장 큰 값이 들어있다. A[0]가 가장 큰 값.

## 힙의 연산

1. `insert` # O(logN)
2. `find_max`: `return A[0]` # O(1)
3. `delete_max`: # O(logN)

`make_heap`: 힙 성질을 만족하도록 요소를 재배치 하는 함수
